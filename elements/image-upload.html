<link rel="import" href="../bower_components/polymer/polymer.html">

<dom-module id="image-upload">

  <template>
    <style>
      :host {
        display: block;
      }
    </style>

    <form id="formImage" method="post" enctype="multipart/form-data">
        Seleccione imagen de portada:
        <input type="file" name="fileToUpload" id="fileToUpload">
        <input type="button" on-click="submitForm" value="Subir Imagen" name="submit">
        <label id="imageResponse"></label>
    </form>

  </template>
</dom-module> 

<script>
  Polymer({
    is: 'image-upload',

      properties: {
        
      },

      submitForm: function(e) {
        var form = document.getElementById('form');
        var formData = new FormData(form);
        var xhr = new XMLHttpRequest();
        xhr.onreadystatechange = function() {
            if (xhr.readyState == 4 && xhr.status == 200) {
              document.getElementById("imageResponse").innerHTML = xhr.responseText;
            }
          };
        xhr.open('POST', 'http://localhost/Tester/php/uploadimage.php', true);
        xhr.send(formData);
 
      }, 
  });
</script>

</dom-module>